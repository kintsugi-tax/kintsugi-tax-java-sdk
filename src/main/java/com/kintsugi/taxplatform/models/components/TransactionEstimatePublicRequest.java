/* 
 * Code generated by Speakeasy (https://speakeasy.com). DO NOT EDIT.
 */
package com.kintsugi.taxplatform.models.components;

import com.fasterxml.jackson.annotation.JsonCreator;
import com.fasterxml.jackson.annotation.JsonIgnore;
import com.fasterxml.jackson.annotation.JsonInclude.Include;
import com.fasterxml.jackson.annotation.JsonInclude;
import com.fasterxml.jackson.annotation.JsonProperty;
import com.kintsugi.taxplatform.utils.Utils;
import java.lang.Boolean;
import java.lang.Deprecated;
import java.lang.Override;
import java.lang.String;
import java.lang.SuppressWarnings;
import java.time.OffsetDateTime;
import java.util.List;
import java.util.Optional;
import org.openapitools.jackson.nullable.JsonNullable;

/**
 * TransactionEstimatePublicRequest
 * 
 * <p>Public request model for tax estimation API documentation.
 * This model excludes internal fields like enriched_fields that should not be exposed in API docs.
 */
public class TransactionEstimatePublicRequest {
    /**
     * The date of the transaction in ISO 8601 format (e.g., 2025-01-25T12:00:00Z).
     */
    @JsonProperty("date")
    private OffsetDateTime date;

    /**
     * Unique identifier of this transaction in the source system.
     */
    @JsonProperty("external_id")
    private String externalId;

    /**
     * Total amount of the transaction.
     */
    @JsonInclude(Include.NON_ABSENT)
    @JsonProperty("total_amount")
    private Optional<? extends TotalAmountOfTheTransactionAfterDiscounts> totalAmount;


    @JsonProperty("currency")
    private CurrencyEnum currency;

    /**
     * An optional description of the transaction.
     */
    @JsonInclude(Include.NON_ABSENT)
    @JsonProperty("description")
    private JsonNullable<String> description;

    /**
     * While currently not used, it may be used in the future to determine taxability. The source of the transaction (e.g., OTHER).
     * 
     * @deprecated field: This will be removed in a future release, please migrate away from it as soon as possible.
     */
    @JsonInclude(Include.NON_ABSENT)
    @JsonProperty("source")
    @Deprecated
    private JsonNullable<? extends SourceEnum> source;

    /**
     * Indicates if the transaction involves a marketplace.
     */
    @JsonInclude(Include.NON_ABSENT)
    @JsonProperty("marketplace")
    private JsonNullable<Boolean> marketplace;

    /**
     * List of items involved in the transaction.
     */
    @JsonProperty("transaction_items")
    private List<TransactionItemEstimateBase> transactionItems;

    /**
     * Details about the customer. If the customer is not found, it will be ignored.
     */
    @JsonInclude(Include.NON_ABSENT)
    @JsonProperty("customer")
    private JsonNullable<? extends CustomerBasePublic> customer;

    /**
     * List of addresses related to the transaction. At least one BILL_TO or SHIP_TO address must be provided. The address will be validated during estimation, and the transaction may be rejected if the address does not pass validation. The SHIP_TO will be preferred to use for determining tax liability.
     */
    @JsonProperty("addresses")
    private List<TransactionEstimatePublicRequestAddress> addresses;

    @JsonCreator
    public TransactionEstimatePublicRequest(
            @JsonProperty("date") OffsetDateTime date,
            @JsonProperty("external_id") String externalId,
            @JsonProperty("total_amount") Optional<? extends TotalAmountOfTheTransactionAfterDiscounts> totalAmount,
            @JsonProperty("currency") CurrencyEnum currency,
            @JsonProperty("description") JsonNullable<String> description,
            @JsonProperty("source") JsonNullable<? extends SourceEnum> source,
            @JsonProperty("marketplace") JsonNullable<Boolean> marketplace,
            @JsonProperty("transaction_items") List<TransactionItemEstimateBase> transactionItems,
            @JsonProperty("customer") JsonNullable<? extends CustomerBasePublic> customer,
            @JsonProperty("addresses") List<TransactionEstimatePublicRequestAddress> addresses) {
        Utils.checkNotNull(date, "date");
        Utils.checkNotNull(externalId, "externalId");
        Utils.checkNotNull(totalAmount, "totalAmount");
        Utils.checkNotNull(currency, "currency");
        Utils.checkNotNull(description, "description");
        Utils.checkNotNull(source, "source");
        Utils.checkNotNull(marketplace, "marketplace");
        Utils.checkNotNull(transactionItems, "transactionItems");
        Utils.checkNotNull(customer, "customer");
        Utils.checkNotNull(addresses, "addresses");
        this.date = date;
        this.externalId = externalId;
        this.totalAmount = totalAmount;
        this.currency = currency;
        this.description = description;
        this.source = source;
        this.marketplace = marketplace;
        this.transactionItems = transactionItems;
        this.customer = customer;
        this.addresses = addresses;
    }
    
    public TransactionEstimatePublicRequest(
            OffsetDateTime date,
            String externalId,
            CurrencyEnum currency,
            List<TransactionItemEstimateBase> transactionItems,
            List<TransactionEstimatePublicRequestAddress> addresses) {
        this(date, externalId, Optional.empty(),
            currency, JsonNullable.undefined(), JsonNullable.undefined(),
            JsonNullable.undefined(), transactionItems, JsonNullable.undefined(),
            addresses);
    }

    /**
     * The date of the transaction in ISO 8601 format (e.g., 2025-01-25T12:00:00Z).
     */
    @JsonIgnore
    public OffsetDateTime date() {
        return date;
    }

    /**
     * Unique identifier of this transaction in the source system.
     */
    @JsonIgnore
    public String externalId() {
        return externalId;
    }

    /**
     * Total amount of the transaction.
     */
    @SuppressWarnings("unchecked")
    @JsonIgnore
    public Optional<TotalAmountOfTheTransactionAfterDiscounts> totalAmount() {
        return (Optional<TotalAmountOfTheTransactionAfterDiscounts>) totalAmount;
    }

    @JsonIgnore
    public CurrencyEnum currency() {
        return currency;
    }

    /**
     * An optional description of the transaction.
     */
    @JsonIgnore
    public JsonNullable<String> description() {
        return description;
    }

    /**
     * While currently not used, it may be used in the future to determine taxability. The source of the transaction (e.g., OTHER).
     * 
     * @deprecated field: This will be removed in a future release, please migrate away from it as soon as possible.
     */
    @Deprecated
    @SuppressWarnings("unchecked")
    @JsonIgnore
    public JsonNullable<SourceEnum> source() {
        return (JsonNullable<SourceEnum>) source;
    }

    /**
     * Indicates if the transaction involves a marketplace.
     */
    @JsonIgnore
    public JsonNullable<Boolean> marketplace() {
        return marketplace;
    }

    /**
     * List of items involved in the transaction.
     */
    @JsonIgnore
    public List<TransactionItemEstimateBase> transactionItems() {
        return transactionItems;
    }

    /**
     * Details about the customer. If the customer is not found, it will be ignored.
     */
    @SuppressWarnings("unchecked")
    @JsonIgnore
    public JsonNullable<CustomerBasePublic> customer() {
        return (JsonNullable<CustomerBasePublic>) customer;
    }

    /**
     * List of addresses related to the transaction. At least one BILL_TO or SHIP_TO address must be provided. The address will be validated during estimation, and the transaction may be rejected if the address does not pass validation. The SHIP_TO will be preferred to use for determining tax liability.
     */
    @JsonIgnore
    public List<TransactionEstimatePublicRequestAddress> addresses() {
        return addresses;
    }

    public static Builder builder() {
        return new Builder();
    }


    /**
     * The date of the transaction in ISO 8601 format (e.g., 2025-01-25T12:00:00Z).
     */
    public TransactionEstimatePublicRequest withDate(OffsetDateTime date) {
        Utils.checkNotNull(date, "date");
        this.date = date;
        return this;
    }

    /**
     * Unique identifier of this transaction in the source system.
     */
    public TransactionEstimatePublicRequest withExternalId(String externalId) {
        Utils.checkNotNull(externalId, "externalId");
        this.externalId = externalId;
        return this;
    }

    /**
     * Total amount of the transaction.
     */
    public TransactionEstimatePublicRequest withTotalAmount(TotalAmountOfTheTransactionAfterDiscounts totalAmount) {
        Utils.checkNotNull(totalAmount, "totalAmount");
        this.totalAmount = Optional.ofNullable(totalAmount);
        return this;
    }


    /**
     * Total amount of the transaction.
     */
    public TransactionEstimatePublicRequest withTotalAmount(Optional<? extends TotalAmountOfTheTransactionAfterDiscounts> totalAmount) {
        Utils.checkNotNull(totalAmount, "totalAmount");
        this.totalAmount = totalAmount;
        return this;
    }

    public TransactionEstimatePublicRequest withCurrency(CurrencyEnum currency) {
        Utils.checkNotNull(currency, "currency");
        this.currency = currency;
        return this;
    }

    /**
     * An optional description of the transaction.
     */
    public TransactionEstimatePublicRequest withDescription(String description) {
        Utils.checkNotNull(description, "description");
        this.description = JsonNullable.of(description);
        return this;
    }

    /**
     * An optional description of the transaction.
     */
    public TransactionEstimatePublicRequest withDescription(JsonNullable<String> description) {
        Utils.checkNotNull(description, "description");
        this.description = description;
        return this;
    }

    /**
     * While currently not used, it may be used in the future to determine taxability. The source of the transaction (e.g., OTHER).
     * 
     * @deprecated field: This will be removed in a future release, please migrate away from it as soon as possible.
     */
    @Deprecated
    public TransactionEstimatePublicRequest withSource(SourceEnum source) {
        Utils.checkNotNull(source, "source");
        this.source = JsonNullable.of(source);
        return this;
    }

    /**
     * While currently not used, it may be used in the future to determine taxability. The source of the transaction (e.g., OTHER).
     * 
     * @deprecated field: This will be removed in a future release, please migrate away from it as soon as possible.
     */
    @Deprecated
    public TransactionEstimatePublicRequest withSource(JsonNullable<? extends SourceEnum> source) {
        Utils.checkNotNull(source, "source");
        this.source = source;
        return this;
    }

    /**
     * Indicates if the transaction involves a marketplace.
     */
    public TransactionEstimatePublicRequest withMarketplace(boolean marketplace) {
        Utils.checkNotNull(marketplace, "marketplace");
        this.marketplace = JsonNullable.of(marketplace);
        return this;
    }

    /**
     * Indicates if the transaction involves a marketplace.
     */
    public TransactionEstimatePublicRequest withMarketplace(JsonNullable<Boolean> marketplace) {
        Utils.checkNotNull(marketplace, "marketplace");
        this.marketplace = marketplace;
        return this;
    }

    /**
     * List of items involved in the transaction.
     */
    public TransactionEstimatePublicRequest withTransactionItems(List<TransactionItemEstimateBase> transactionItems) {
        Utils.checkNotNull(transactionItems, "transactionItems");
        this.transactionItems = transactionItems;
        return this;
    }

    /**
     * Details about the customer. If the customer is not found, it will be ignored.
     */
    public TransactionEstimatePublicRequest withCustomer(CustomerBasePublic customer) {
        Utils.checkNotNull(customer, "customer");
        this.customer = JsonNullable.of(customer);
        return this;
    }

    /**
     * Details about the customer. If the customer is not found, it will be ignored.
     */
    public TransactionEstimatePublicRequest withCustomer(JsonNullable<? extends CustomerBasePublic> customer) {
        Utils.checkNotNull(customer, "customer");
        this.customer = customer;
        return this;
    }

    /**
     * List of addresses related to the transaction. At least one BILL_TO or SHIP_TO address must be provided. The address will be validated during estimation, and the transaction may be rejected if the address does not pass validation. The SHIP_TO will be preferred to use for determining tax liability.
     */
    public TransactionEstimatePublicRequest withAddresses(List<TransactionEstimatePublicRequestAddress> addresses) {
        Utils.checkNotNull(addresses, "addresses");
        this.addresses = addresses;
        return this;
    }

    @Override
    public boolean equals(java.lang.Object o) {
        if (this == o) {
            return true;
        }
        if (o == null || getClass() != o.getClass()) {
            return false;
        }
        TransactionEstimatePublicRequest other = (TransactionEstimatePublicRequest) o;
        return 
            Utils.enhancedDeepEquals(this.date, other.date) &&
            Utils.enhancedDeepEquals(this.externalId, other.externalId) &&
            Utils.enhancedDeepEquals(this.totalAmount, other.totalAmount) &&
            Utils.enhancedDeepEquals(this.currency, other.currency) &&
            Utils.enhancedDeepEquals(this.description, other.description) &&
            Utils.enhancedDeepEquals(this.source, other.source) &&
            Utils.enhancedDeepEquals(this.marketplace, other.marketplace) &&
            Utils.enhancedDeepEquals(this.transactionItems, other.transactionItems) &&
            Utils.enhancedDeepEquals(this.customer, other.customer) &&
            Utils.enhancedDeepEquals(this.addresses, other.addresses);
    }
    
    @Override
    public int hashCode() {
        return Utils.enhancedHash(
            date, externalId, totalAmount,
            currency, description, source,
            marketplace, transactionItems, customer,
            addresses);
    }
    
    @Override
    public String toString() {
        return Utils.toString(TransactionEstimatePublicRequest.class,
                "date", date,
                "externalId", externalId,
                "totalAmount", totalAmount,
                "currency", currency,
                "description", description,
                "source", source,
                "marketplace", marketplace,
                "transactionItems", transactionItems,
                "customer", customer,
                "addresses", addresses);
    }

    @SuppressWarnings("UnusedReturnValue")
    public final static class Builder {

        private OffsetDateTime date;

        private String externalId;

        private Optional<? extends TotalAmountOfTheTransactionAfterDiscounts> totalAmount = Optional.empty();

        private CurrencyEnum currency;

        private JsonNullable<String> description = JsonNullable.undefined();

        @Deprecated
        private JsonNullable<? extends SourceEnum> source = JsonNullable.undefined();

        private JsonNullable<Boolean> marketplace = JsonNullable.undefined();

        private List<TransactionItemEstimateBase> transactionItems;

        private JsonNullable<? extends CustomerBasePublic> customer = JsonNullable.undefined();

        private List<TransactionEstimatePublicRequestAddress> addresses;

        private Builder() {
          // force use of static builder() method
        }


        /**
         * The date of the transaction in ISO 8601 format (e.g., 2025-01-25T12:00:00Z).
         */
        public Builder date(OffsetDateTime date) {
            Utils.checkNotNull(date, "date");
            this.date = date;
            return this;
        }


        /**
         * Unique identifier of this transaction in the source system.
         */
        public Builder externalId(String externalId) {
            Utils.checkNotNull(externalId, "externalId");
            this.externalId = externalId;
            return this;
        }


        /**
         * Total amount of the transaction.
         */
        public Builder totalAmount(TotalAmountOfTheTransactionAfterDiscounts totalAmount) {
            Utils.checkNotNull(totalAmount, "totalAmount");
            this.totalAmount = Optional.ofNullable(totalAmount);
            return this;
        }

        /**
         * Total amount of the transaction.
         */
        public Builder totalAmount(Optional<? extends TotalAmountOfTheTransactionAfterDiscounts> totalAmount) {
            Utils.checkNotNull(totalAmount, "totalAmount");
            this.totalAmount = totalAmount;
            return this;
        }


        public Builder currency(CurrencyEnum currency) {
            Utils.checkNotNull(currency, "currency");
            this.currency = currency;
            return this;
        }


        /**
         * An optional description of the transaction.
         */
        public Builder description(String description) {
            Utils.checkNotNull(description, "description");
            this.description = JsonNullable.of(description);
            return this;
        }

        /**
         * An optional description of the transaction.
         */
        public Builder description(JsonNullable<String> description) {
            Utils.checkNotNull(description, "description");
            this.description = description;
            return this;
        }


        /**
         * While currently not used, it may be used in the future to determine taxability. The source of the transaction (e.g., OTHER).
         * 
         * @deprecated field: This will be removed in a future release, please migrate away from it as soon as possible.
         */
        @Deprecated
        public Builder source(SourceEnum source) {
            Utils.checkNotNull(source, "source");
            this.source = JsonNullable.of(source);
            return this;
        }

        /**
         * While currently not used, it may be used in the future to determine taxability. The source of the transaction (e.g., OTHER).
         * 
         * @deprecated field: This will be removed in a future release, please migrate away from it as soon as possible.
         */
        @Deprecated
        public Builder source(JsonNullable<? extends SourceEnum> source) {
            Utils.checkNotNull(source, "source");
            this.source = source;
            return this;
        }


        /**
         * Indicates if the transaction involves a marketplace.
         */
        public Builder marketplace(boolean marketplace) {
            Utils.checkNotNull(marketplace, "marketplace");
            this.marketplace = JsonNullable.of(marketplace);
            return this;
        }

        /**
         * Indicates if the transaction involves a marketplace.
         */
        public Builder marketplace(JsonNullable<Boolean> marketplace) {
            Utils.checkNotNull(marketplace, "marketplace");
            this.marketplace = marketplace;
            return this;
        }


        /**
         * List of items involved in the transaction.
         */
        public Builder transactionItems(List<TransactionItemEstimateBase> transactionItems) {
            Utils.checkNotNull(transactionItems, "transactionItems");
            this.transactionItems = transactionItems;
            return this;
        }


        /**
         * Details about the customer. If the customer is not found, it will be ignored.
         */
        public Builder customer(CustomerBasePublic customer) {
            Utils.checkNotNull(customer, "customer");
            this.customer = JsonNullable.of(customer);
            return this;
        }

        /**
         * Details about the customer. If the customer is not found, it will be ignored.
         */
        public Builder customer(JsonNullable<? extends CustomerBasePublic> customer) {
            Utils.checkNotNull(customer, "customer");
            this.customer = customer;
            return this;
        }


        /**
         * List of addresses related to the transaction. At least one BILL_TO or SHIP_TO address must be provided. The address will be validated during estimation, and the transaction may be rejected if the address does not pass validation. The SHIP_TO will be preferred to use for determining tax liability.
         */
        public Builder addresses(List<TransactionEstimatePublicRequestAddress> addresses) {
            Utils.checkNotNull(addresses, "addresses");
            this.addresses = addresses;
            return this;
        }

        public TransactionEstimatePublicRequest build() {

            return new TransactionEstimatePublicRequest(
                date, externalId, totalAmount,
                currency, description, source,
                marketplace, transactionItems, customer,
                addresses);
        }

    }
}
